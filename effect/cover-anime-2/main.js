function xoa_dau(a){a=a.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a");a=a.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e");a=a.replace(/ì|í|ị|ỉ|ĩ/g,"i");a=a.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o");a=a.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u");a=a.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y");a=a.replace(/đ/g,"d");a=a.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A");a=a.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E");a=a.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I");a=a.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O");a=a.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U");a=a.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y");a=a.replace(/Đ/g,"D");return a}function timnv(){var a,m,k,j,n,l,i;a=document.getElementById("tad-timnv");m=a.value.toUpperCase();k=document.getElementById("tad-chonnv");j=k.getElementsByTagName("div");for(l=0;l<j.length;l++){n=j[l].getElementsByTagName("span")[0];i=n.textContent||n.innerText;if(i.toUpperCase().indexOf(m)>-1){j[l].style.display=""}else{j[l].style.display="none"}}}$(document).ready(function(){if(window.location.hostname==tmbq){var g=document.getElementById("tad-chonnv");dsAnime.forEach(function(c){var b=document.createElement("div");var a=c.imgAnime;var d=a.substring(a.lastIndexOf("/")+1,a.length).replace(/-/g," ").replace(/.png/g,"");b.setAttribute("dataImg",c.imgAnime);b.setAttribute("dataColor",c.colorBg);if(c.marginL!=undefined){b.setAttribute("dataMarginL",c.marginL)}else{b.setAttribute("dataMarginL",0)}b.setAttribute("title",d);b.innerHTML="<span>"+d+"</span><i style='background-image: url("+c.imgAnime.replace(/h240/g,"s120")+");'></i>";g.appendChild(b)});$("#doimaunen").colorpicker().change(function(){var a=$("#doimaunen").val();$(".demomau").css("background-color",a);$(".active span").css("color",a);colorBg=a});$("#tad-chonnv>div").click(function(){$("#tad-chonnv>div").removeClass("active");$(this).addClass("active");var c=$(this).attr("dataImg").replace(/h240/g,"s0");var a=$(this).attr("dataColor");var b=$(this).attr("dataMarginL");$("#tad-chonnv>div>span").attr("style","");$(this).find("span").css("color",a);imgAnime=c;colorBg=a;marginL=b;$("#doimaunen").val(a).trigger("change");$("#doimaunen").colorpicker("setValue",a)});$("#tad-chonnv").children("div:first-child").click();var h=$(".tad-in-text1");var e=$(".tad-in-text2");h.on("input",function(){f()});e.on("input",function(){f()});function f(){if(undefined!==h.val()&&h.val().length==0){$("#tad-taoanh").addClass("disabled")}else{if(undefined!==e.val()&&e.val().length==0){$("#tad-taoanh").addClass("disabled")}else{$("#tad-taoanh").removeClass("disabled")}}}$("#tad-taoanh").click(function(){$("#img-out").hide();$("#tad-taoanh").addClass("disabled").html("<span class='spinner-border spinner-border-sm'></span> Đang tạo ảnh");i()});function i(){document.fonts.load('10pt "GMV DIN Pro Cond"').then(function(){document.fonts.load('bold 10pt "GMV DIN Pro Cond"').then(function(){var a=new Image();a.crossOrigin="Anonymous";a.src=imgAnime;a.onload=function(){var b=new Image();b.crossOrigin="Anonymous";b.src="https://lh3.googleusercontent.com/-JZxo4uTVIKQ/YaS7VBjAojI/AAAAAAAA1rk/mg_Bp0Z6_yUGLp1lfC9ugriYTGFfRaXTwCNcBGAsYHQ/s0/layer-2.png";b.onload=function(){var c=new Image();c.crossOrigin="Anonymous";c.src="https://lh3.googleusercontent.com/-j9JKCim94ks/YaIMA7fVnPI/AAAAAAAA1k8/g9e5X5FfRH4NiG-7hHRNikGxViI2o8pYQCNcBGAsYHQ/s0/layer-3.png";c.onload=function(){t1=$(".tad-in-text1").val().toUpperCase();t2=$(".tad-in-text2").val().toUpperCase();var k=document.getElementById("temp");var o=k.getContext("2d");o.save();o.fillStyle=colorBg;o.fillRect(0,0,k.width,k.height);o.restore();o.save();o.drawImage(b,0,0,k.width,k.height);o.restore();o.save();o.globalCompositeOperation="multiply";o.globalAlpha="0.3";o.drawImage(a,-300,-300,1500,1500);o.restore();o.save();o.fillStyle="#fff";o.transform(1,0,1,1,0,0);o.fillRect(500,0,650,740);o.restore();o.save();o.beginPath();o.save();o.transform(1,0,1,1,0,0);o.rect(500,0,650,740);o.restore();o.clip();o.save();o.globalAlpha="0.2";o.drawImage(a,300,-300,1500,1500);o.restore();o.save();o.drawImage(c,0,0,k.width,k.height);o.restore();o.save();o.globalCompositeOperation="color";o.fillStyle="#000";o.fillRect(0,0,k.width,k.height);o.restore();o.restore();var j=950;var d=600;var v=180;var m="300px";var l=3;var n="0.5";o.save();o.beginPath();o.save();o.transform(1,0,1,1,0,0);o.rect(500,0,650,740);o.restore();o.clip();o.save();o.globalAlpha=n;o.translate(j,d);o.rotate(Math.PI/180*45);o.strokeStyle=colorBg;o.lineWidth=l;o.textAlign="center";o.font="bold "+m+" GMV DIN Pro Cond";o.strokeText(xoa_dau(t1).split("").join(String.fromCharCode(8202)),0,0);o.restore();o.save();o.globalAlpha=n;o.fillStyle=colorBg;o.lineWidth=l;o.translate(j+v,d-v);o.rotate(Math.PI/180*45);o.textAlign="center";o.font="bold "+m+" GMV DIN Pro Cond";o.fillText(xoa_dau(t1).split("").join(String.fromCharCode(8202)),0,0);o.restore();o.save();o.globalAlpha=n;o.translate(j+v*2,d-v*2);o.rotate(Math.PI/180*45);o.strokeStyle=colorBg;o.lineWidth=l;o.textAlign="center";o.font="bold "+m+" GMV DIN Pro Cond";o.strokeText(xoa_dau(t1).split("").join(String.fromCharCode(8202)),0,0);o.restore();o.restore();o.save();o.shadowColor="rgba(0,0,0, 0.3)";o.shadowBlur=10;o.shadowOffsetX=0;o.shadowOffsetY=0;o.drawImage(a,900+Number(marginL),-200,1000,1000);o.restore();o.save();o.fillStyle="#fff";o.textAlign="center";o.font="bold 75px GMV DIN Pro Cond";o.fillText(t1.split("").join(String.fromCharCode(8202)),430,380);o.restore();o.save();o.fillStyle="#fff";o.textAlign="center";o.font="37px GMV DIN Pro Cond";o.fillText(t2.split("").join(String.fromCharCode(8200)),430,440);o.restore();o.save();o.fillStyle="#fff";o.fillRect(430-300/2,470,300,5);o.font="37px GMV DIN Pro Cond";o.fillText("+ + +".toUpperCase(),200,300);o.restore();tadUpload(k)}}}})})}}});